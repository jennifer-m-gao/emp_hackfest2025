<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Seattle Map – draggable, colored areas, clickable icons</title>
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
  <style>
    html, body { height: 100%; margin: 0; }
    #map { height: 100%; width: 100%; }

    .leaflet-popup-content { font: 14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }

    .pin {
      width: 22px; height: 22px; border-radius: 50%;
      background: #1d4ed8; 
      display: grid; place-items: center; color: white; font-size: 12px; font-weight: 700;
      box-shadow: 0 1px 4px rgba(0,0,0,.4);
      transform: translate(-11px, -11px);
    }
    .pin::after { 
      content: "";
      position: absolute;
      width: 0; height: 0; left: 9px; top: 18px;
      border-left: 4px solid transparent;
      border-right: 4px solid transparent;
      border-top: 8px solid #1d4ed8;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>
  <script>
    const map = L.map('map', {
      zoomControl: true, 
      dragging: true,   
    }).setView([47.6062, -122.3321], 12);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    const areas = [
      {
        name: 'Downtown (rough)',
        color: '#ef4444', 
        coords: [
          [47.6150, -122.3540],
          [47.6150, -122.3220],
          [47.5980, -122.3220],
          [47.5980, -122.3540]
        ]
      },
      {
        name: 'Capitol Hill (rough)',
        color: '#10b981', 
        coords: [
          [47.6275, -122.3300],
          [47.6275, -122.3050],
          [47.6105, -122.3050],
          [47.6105, -122.3300]
        ]
      },
      {
        name: 'Queen Anne (rough)',
        color: '#f59e0b', 
        coords: [
          [47.6460, -122.3730],
          [47.6460, -122.3550],
          [47.6240, -122.3550],
          [47.6240, -122.3730]
        ]
      }
    ];

    areas.forEach(a => {
      const poly = L.polygon(a.coords, {
        color: a.color,
        weight: 2,
        fillColor: a.color,
        fillOpacity: 0.25
      }).addTo(map);

      poly.bindPopup(`<strong>${a.name}</strong>`);

      poly.on('mouseover', () => poly.setStyle({ fillOpacity: 0.45 }));
      poly.on('mouseout',  () => poly.setStyle({ fillOpacity: 0.25 }));
    });

    const defaultMarker = L.marker([47.6205, -122.3493]) 
      .addTo(map)
      .bindPopup('<b>Space Needle (demo)</b><br/>Click markers & areas to see popups.');

    const cafeIcon = L.divIcon({ className: 'pin', html: '☕', iconSize: [22, 22], iconAnchor: [11, 22], popupAnchor: [0, -18] });
    L.marker([47.6121, -122.3400], { icon: cafeIcon })
      .addTo(map)
      .bindPopup('<b>Sample Cafe</b><br/>Custom HTML icon via <code>divIcon</code>.');

    const imageIcon = L.icon({
      iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',
      shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
      iconSize: [25, 41],
      iconAnchor: [12, 41],
      popupAnchor: [1, -34],
      shadowSize: [41, 41]
    });
    L.marker([47.6090, -122.3310], { icon: imageIcon })
      .addTo(map)
      .bindPopup('<b>Pike Place (demo)</b><br/>Image-based marker with shadow.');
  </script>
</body>
</html>
